{% extends "base.html" %}
{% block content %}
<div class ="row">
<h class = "title shadow p-3 offset-md-1"> Welcome, {{username}} </h> 
</div> 
<style>
    h{
        background-color: rgb(238, 238, 238);
    }
</style>
<style>
    #box{
        background-color: rgb(238, 238, 238);
    }
</style>
<div class = "row">
    <div id = "box" class = "col-md-5 offset-md-1 shadow">
        <div class="cat"><img src="{{catImage}}" class="img-Thumbnail"/>
            <style>
                 .cat{
                    overflow: hidden;
                }
                img {
                    max-width: 100%;
                    width: 100%;
                    height: 100%;
                    max-height: 500px;
                    object-fit: contain;
                    object-position: center;
                } 
            </style>
        </div>
    </div>
    <div id = "box" class = "col-md-4 offset-md-1 shadow">
        <canvas id="myChart">
            <script>var ctx = document.getElementById('myChart').getContext('2d');
            
            var gradientStroke = ctx.createLinearGradient(500, 0, 100, 0);
            gradientStroke.addColorStop(0, "#80b6f4");
            gradientStroke.addColorStop(0.2, "#94d973");
            gradientStroke.addColorStop(0.5, "#fad874");
            gradientStroke.addColorStop(1, "#f49080");
            Chart.plugins.register({
              beforeDraw: function(chartInstance, easing) {
                var ctx = chartInstance.chart.ctx;
                ctx.fillStyle = 'rgb(12, 125, 125)'; // your color here
            
                var chartArea = chartInstance.chartArea;
                ctx.fillRect(chartArea.left, chartArea.top, chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);
              }
            });
            var chart = new Chart(ctx, {
                // The type of chart we want to create
                type: 'line',
            
                // The data for our dataset
                data: {
                    labels: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
                    datasets: [{
                        label: 'My depression level',
                        fill:false,
                        borderColor: 'rgb(130, 100, 255)',
                        backgroundColor:'rgb(130, 100, 255)',
                        data: [0, 10, 5, 2, 20, 30, 40],
                        pointRadius:10,
                        pointHoverRadius:20,
                        
                        options:{legend:{position:'bottom'},
                                 title:{display:true,
                                        text:'my depression',
                                        position:top
                                       }
                                  }
            
                    },{label: 'Also my depression level',
                        fill:false,
            pointRadius:15,
                        backgroundColor:'rgb(130, 255, 200)',
                        borderColor: 'rgb(130, 255, 200)',
                        data: [10, 20, 30, 40, 30, 30, 40]}]
            
            
                        
                },
            
                // Configuration options go here
                options: {chartArea:{backgroundColor:'rgb(0,255,200,0.4)'},
                            responsive: true,
                            legend: {
                                position: 'bottom',
                            },
                            hover: {
                                mode: 'index'
                            },
                            scales: {
                                xAxes: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true,
                                        labelString: 'Day'
                                    }
                                }],
                                yAxes: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true,
                                        labelString: 'Depression'
                                    }
                                }]
                            },
                            title: {
                                                    fontSize: 24,
                                                    fontColor:'rgb(130,255,255)',
                                display: true,
                                text: 'My depression level'
                            }
                        }
            }); </script>
            </canvas>
    </div>
</div>
<div class = "row">
    <div id = "box" class = "col-md-5 shadow  offset-md-1">
        <h1>
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">How are you feeling today?</button>
            
            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document" style="position: absolute; left: 20%; top: 20%">
                  <div class="modal-content" style="width:1250px;">
                    <div class="modal-header" style="width:1250px;">
                      <h5 class="modal-title" id="exampleModalLabel">How are you feeling today?</h5>
                    </div>
                    <form method="POST" action="/dashboard/{{username}}">
                    <div class="modal-body" style="width:1250px;">
                        <div class = "row justify-content-md-center">
                            <div class = "col-md-2">
                        <button type="submit" name = "crying" style="background-color: transparent; border-color: transparent;">
                        <img src="https://images.emojiterra.com/google/android-11/128px/1f62d.png"/>
                        </button>
                        </div>
                        <div class = "col-md-2">
                        <button type="submit" name = "sad" style="background-color: transparent; border-color: transparent;">
                        <img src="https://images.emojiterra.com/google/android-11/128px/2639.png"/>
                        </button>
                    </div>
                    <div class = "col-md-2">
                        <button type="submit" name = "neutral"  style="background-color: transparent; border-color: transparent;">
                        <img src="https://images.emojiterra.com/google/android-11/128px/1f610.png"/>
                        </button>
                    </div>
                    <div class = "col-md-2">
                        <button type="submit" name = "smiling"  style="background-color: transparent; border-color: transparent;">
                        <img src="https://images.emojiterra.com/google/android-11/128px/1f642.png"/>
                        </button>
                    </div>
                    <div class = "col-md-2">
                        <button type="submit" name = "laughing"  style="background-color: transparent; border-color: transparent;">
                        <img src="https://images.emojiterra.com/google/android-11/128px/1f604.png"/>
                        </button>
                    </div>
                    </div>
                    </form>
                    </div>
                  </div>
                </div>
            </div>
          </h1>
    </div>
    <div id = "box" class = "col-md-4 offset-md-1 shadow">
        <p class="quote">{{quote}}
            <style>
                 .quote{
                    overflow: hidden;
                    }
            </style>
        </p>
    </div>
</div>

<script>
    function submitFunction(value) {
        fetch('/Mood')
    }

    // var catImage

    // $.ajax({
    //     type: "POST",
    //     url: "~/cats.py"
    //     }).done(function( o ) {
    //         catImage=getCat();
    //     });

</script>
{% endblock %}